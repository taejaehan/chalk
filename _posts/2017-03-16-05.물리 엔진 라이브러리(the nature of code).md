---
layout: post
title: "05. 물리 엔진 라이브러리 (The nature of code)"
description: "물리엔진 라이브러리, Box2D, toxiclib"
tags: [n-code, development, javascript]
published: false
---

## 물리엔진 라이브러리
- 복잡한 물리법칙을 구현해주는 다양한 라이브러리가 존재한다.
- 하지만 벡터, 힘, 삼각법 등에 이해가 없다면 라이브러리 문서를 이해하기 힘들고 코드를 최적화, 단순화 시키는 것을 직접 해야한다.
- 원의 충돌은 간단히 구현하기 쉽지만 복잡한 모양의 물체들이 충돌하고 그 후의 속도까지 계산한다면 더 복잡해진다. 
- 직접 구현하느니 차라리 가족 또는 친구들과 시간을 보내세요 ( 마음에 드는 구절이다.. )

## Box2D
- Box2D에서는 미터, 킬로그램, 초 등의 현실단위를 사용. 따라서 픽셀단위의 프로세싱이나 웹의 단위를 변경해서 Box2D에서 물리적 작용을 계산하여 작업하고, 다시 픽셀단위로 변경하여 그려줘야 한다.
- Box2D의 핵심 요소
	1. 월드(World) : 물리 시뮬레이션을 관리하는 요소. 좌표 공간을 관리하고 생성한 모든 객체(아래 2~5번)를 저장.
	2. 보디(Body) : Box2D에서 사용할 수 있는 가장 대표적인 요소로, 좌표와 속도를 가진다.
	3. 셰이프(Shape) : 보디에 붙어서 충돌과 관련된 지오메트리 처리를 담당한다.
	4. 픽스쳐(Fixture) : 셰이프를 보디에 붙이고 밀도, 마찰, 복원력 등의 요소를 적용하는 요소.
	5. 조인트(Joint) : 2개의 보디(또는 1개의 보디와 월드)를 연결해서 상호 작용을 일으키게 만드는 요소.
	6. Vec2 : Box2D에서 아용하는 벡터
	- 벡터를 구하고 정규화 하는등 기본개념은 같지만 함수 이름과 매개변수가 조금씩 다르다. 
- 작업 STEP
1. World 생성
2. Body 생성
	2.1 BodyDef 객체 생성
	2.2 BodyDef 객체 속성 정의
		- BodyDef type 
			1. ) 동적(Dynamic) : 모든 물리 시뮬레이션에 적용. 다른 보디와 상호작용 및 환경적인 힘에도 반응
			2. ) 정적(Static) : 정적보다는 움직이지 않는 보디. 틀과 같은 것을 만들 떄 사용.
			3. ) 키네마틱(Kinematic) : 키네마틱 보디는 속도를 직접 설정해서 수동으로 움직일 수있게 하는 요소. 동적 보디와만 충돌하고 정적 보디, 또 다른 키네마틱 보디와는 충돌하지 않음.
	2.3 BodyDef 객체로 Body 생성.
3. Shape 객체 생성
4. 픽스쳐 정의
	- 생성한 shape를 보디에 붙이려면 픽스처를 사용해야 함
5. 픽스쳐 생성




## toxiclib




